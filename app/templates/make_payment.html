<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Make Payment</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body class="gradient-purple">
  <div class="center-box">
  <div class="container payment-form">
    <h2>Make Payment</h2>
    
    <form method="get">
      <label for="provider">Provider:</label>
      <select id="provider" name="provider_id" onchange="this.form.submit()">
        <option value="">Select</option>
        {% for p in providers %}
          <option value="{{ p.id }}" {% if selected_provider == p.id %}selected{% endif %}>
            {{ p.Name }}
          </option>
        {% endfor %}
      </select>
    </form>

    {% if selected_provider %}
    <div class="provider-info">
      <!-- <strong>Provider:</strong> {{ provider_name }}<br> -->
      <strong>Amount due:</strong> ${{ amount_due or 0 }}
    </div>

    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Hours</th>
        </tr>
      </thead>
      <tbody>
        {% for s in sessions %}
        <tr>
          <td>{{ s.Date }}</td>
          <td>{{ s.NumberSessions }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <form method="post" id="payForm">
      <input type="hidden" name="provider_id" value="{{ selected_provider }}">
      <button type="submit" class="btn">Pay</button>
    </form>
    {% endif %}
    
  </div>
  </div>
  <!-- GSAP CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="{{ url_for('static', filename='script.js') }}"></script>
  
  <!-- Hammer.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>

  <!-- Your script -->
  <script src="{{ url_for('static', filename='gesture.js') }}"></script>

</body>
</html>
